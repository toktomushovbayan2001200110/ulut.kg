{"version":3,"file":"preview.js","mappings":"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","sources":["webpack://arrowpress-customizer/./src/background/postmessage.ts","webpack://arrowpress-customizer/./src/postmessage/index.ts","webpack://arrowpress-customizer/./src/postmessage/postMessage.ts","webpack://arrowpress-customizer/external window [\"wp\",\"hooks\"]","webpack://arrowpress-customizer/webpack/bootstrap","webpack://arrowpress-customizer/webpack/runtime/compat get default export","webpack://arrowpress-customizer/webpack/runtime/define property getters","webpack://arrowpress-customizer/webpack/runtime/hasOwnProperty shorthand","webpack://arrowpress-customizer/webpack/runtime/make namespace object","webpack://arrowpress-customizer/./src/Preview.ts"],"sourcesContent":["// domready.\nimport { addFilter } from '@wordpress/hooks';\nimport thimPostMessage from '../postmessage/postMessage';\n\nexport default function BackgroundPostMessage() {\n    return addFilter(\n        'thimCustomizerPostMessageStylesOutput',\n        'thim',\n        function (styles, value, output, controlType) {\n            var processedValue;\n            if ('arrowpress-background' === controlType) {\n                styles += output.element + '{';\n                _.each(value, function (val, key) {\n                    if (output.choice && key !== output.choice) {\n                        return;\n                    }\n                    if ('background-image' === key) {\n                        val = -1 === val.indexOf('url(') ? 'url(' + val + ')' : val;\n                    }\n\n                    processedValue = thimPostMessage.util.processValue(output, val);\n\n                    if ('' === processedValue) {\n                        if ('background-color' === output.property) {\n                            processedValue = 'unset';\n                        } else if ('background-image' === output.property) {\n                            processedValue = 'none';\n                        }\n                    }\n\n                    if (false !== processedValue) {\n                        styles += output.property ? output.property + ':' + processedValue + ';' : key + ':' + processedValue + ';';\n                    }\n                });\n                styles += '}';\n            }\n            return styles;\n        }\n    );\n}\n","import thimPostMessage from './postMessage';\n\nexport default function ThimPostMessageOutput() {\n    let styles: string = '';\n\n    _.each(thimPostMessageFields, function (field) {\n        var fieldSetting = field.id;\n\n        if (\"option\" === field.option_type && field.option_name && 0 !== fieldSetting.indexOf(field.option_name + '[')) {\n            fieldSetting = field.option_name + \"[\" + fieldSetting + \"]\";\n        }\n\n        wp.customize(fieldSetting, function (value) {\n            value.bind(function (newVal) {\n                styles = '';\n                _.each(field.js_vars, function (output) {\n                    output.function = (!output.function || 'undefined' === typeof thimPostMessage[output.function]) ? 'css' : output.function;\n                    field.type = (field.choices && field.choices.parent_type) ? field.choices.parent_type : field.type;\n\n                    if ('css' === output.function) {\n                        styles += thimPostMessage.css.fromOutput(output, newVal, field.type);\n                    } else {\n                        thimPostMessage[output.function].fromOutput(output, newVal, field.type);\n                    }\n                });\n\n                thimPostMessage.styleTag.addData(fieldSetting, styles);\n            });\n        });\n    });\n};\n","import { applyFilters } from '@wordpress/hooks';\n\nconst thimPostMessage = {\n\n    fields: {},\n\n    styleTag: {\n\n        add: function (id) {\n            id = id.replace(/[^\\w\\s]/gi, '-');\n            if (null === document.getElementById('arrowpress-postmessage-' + id) || 'undefined' === typeof document.getElementById('arrowpress-postmessage-' + id)) {\n                jQuery('head').append('<style id=\"arrowpress-customizer-postmessage-' + id + '\"></style>');\n            }\n        },\n\n        addData: function (id, styles) {\n            id = id.replace('[', '-').replace(']', '');\n            thimPostMessage.styleTag.add(id);\n            jQuery('#arrowpress-customizer-postmessage-' + id).text(styles);\n        }\n    },\n\n    util: {\n\n        processValue: function (output, value) {\n            var self = this,\n                settings = window.parent.wp.customize.get(),\n                excluded = false;\n\n            if ('object' === typeof value) {\n                _.each(value, function (subValue, key) {\n                    value[key] = self.processValue(output, subValue);\n                });\n                return value;\n            }\n            output = _.defaults(output, {\n                prefix: '',\n                units: '',\n                suffix: '',\n                value_pattern: '$',\n                pattern_replace: {},\n                exclude: []\n            });\n\n            if (1 <= output.exclude.length) {\n                _.each(output.exclude, function (exclusion) {\n                    if (value == exclusion) {\n                        excluded = true;\n                    }\n                });\n            }\n\n            if (excluded) {\n                return false;\n            }\n\n            value = output.value_pattern.replace(new RegExp('\\\\$', 'g'), value);\n            _.each(output.pattern_replace, function (id, placeholder) {\n                if (!_.isUndefined(settings[id])) {\n                    value = value.replace(placeholder, settings[id]);\n                }\n            });\n            return output.prefix + value + output.units + output.suffix;\n        },\n\n        backgroundImageValue: function (url) {\n            return (-1 === url.indexOf('url(')) ? 'url(' + url + ')' : url;\n        }\n    },\n\n    css: {\n\n        fromOutput: function (output, value, controlType) {\n            var styles = '',\n                mediaQuery = false,\n                processedValue;\n\n            try {\n                value = JSON.parse(value);\n            } catch (e) { }\n\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            styles = applyFilters('thimCustomizerPostMessageStylesOutput', styles, value, output, controlType);\n\n            if ('' === styles) {\n                switch (controlType) {\n                    case 'arrowpress-multicolor':\n                    case 'arrowpress-sortable':\n                        styles += output.element + '{';\n                        _.each(value, function (val, key) {\n                            if (output.choice && key !== output.choice) {\n                                return;\n                            }\n\n                            processedValue = thimPostMessage.util.processValue(output, val);\n\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            var customProperty = controlType === 'arrowpress-sortable' ? output.property + '-' + key : output.property;\n\n                            if (false !== processedValue) {\n                                styles += output.property ? customProperty + \":\" + processedValue + \";\" : key + \":\" + processedValue + \";\";\n                            }\n                        });\n                        styles += '}';\n                        break;\n                    default:\n                        if ('arrowpress-image' === controlType) {\n                            value = (!_.isUndefined(value.url)) ? thimPostMessage.util.backgroundImageValue(value.url) : thimPostMessage.util.backgroundImageValue(value);\n                        }\n                        if (_.isObject(value)) {\n                            styles += output.element + '{';\n                            _.each(value, function (val, key) {\n                                var property;\n                                if (output.choice && key !== output.choice) {\n                                    return;\n                                }\n                                processedValue = thimPostMessage.util.processValue(output, val);\n                                property = output.property ? output.property : key;\n\n                                if ('' === processedValue) {\n                                    if ('background-color' === property) {\n                                        processedValue = 'unset';\n                                    } else if ('background-image' === property) {\n                                        processedValue = 'none';\n                                    }\n                                }\n\n                                if (false !== processedValue) {\n                                    styles += property + ':' + processedValue + ';';\n                                }\n                            });\n                            styles += '}';\n                        } else {\n                            processedValue = thimPostMessage.util.processValue(output, value);\n                            if ('' === processedValue) {\n                                if ('background-color' === output.property) {\n                                    processedValue = 'unset';\n                                } else if ('background-image' === output.property) {\n                                    processedValue = 'none';\n                                }\n                            }\n\n                            if (false !== processedValue) {\n                                styles += output.element + '{' + output.property + ':' + processedValue + ';}';\n                            }\n                        }\n                        break;\n                }\n            }\n\n            if (output.media_query && 'string' === typeof output.media_query && !_.isEmpty(output.media_query)) {\n                mediaQuery = output.media_query;\n\n                if (-1 === mediaQuery.indexOf('@media')) {\n                    mediaQuery = '@media ' + mediaQuery;\n                }\n            }\n\n            if (mediaQuery) {\n                return mediaQuery + '{' + styles + '}';\n            }\n\n            return styles;\n        }\n    },\n\n    html: {\n        fromOutput: function (output, value) {\n            if (output.js_callback && 'function' === typeof window[output.js_callback]) {\n                value = window[output.js_callback[0]](value, output.js_callback[1]);\n            }\n\n            if (_.isObject(value) || _.isArray(value)) {\n                if (!output.choice) {\n                    return;\n                }\n                _.each(value, function (val, key) {\n                    if (output.choice && key !== output.choice) {\n                        return;\n                    }\n                    value = val;\n                });\n            }\n            value = thimPostMessage.util.processValue(output, value);\n\n            if (output.attr) {\n                jQuery(output.element).attr(output.attr, value);\n            } else {\n                jQuery(output.element).html(value);\n            }\n        }\n    },\n\n    toggleClass: {\n        fromOutput: function (output, value) {\n            if ('undefined' === typeof output.class || 'undefined' === typeof output.value) {\n                return;\n            }\n\n            if (value === output.value && !jQuery(output.element).hasClass(output.class)) {\n                jQuery(output.element).addClass(output.class);\n            } else {\n                jQuery(output.element).removeClass(output.class);\n            }\n        }\n    }\n};\n\nexport default thimPostMessage;","module.exports = window[\"wp\"][\"hooks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport ThimPostMessageOutput from './postmessage';\nimport BackgroundPostMessage from './background/postmessage';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    ThimPostMessageOutput();\n    BackgroundPostMessage();\n});"],"names":["addFilter","thimPostMessage","BackgroundPostMessage","styles","value","output","controlType","processedValue","element","_","each","val","key","choice","indexOf","util","processValue","property","ThimPostMessageOutput","thimPostMessageFields","field","fieldSetting","id","option_type","option_name","wp","customize","bind","newVal","js_vars","function","type","choices","parent_type","css","fromOutput","styleTag","addData","applyFilters","fields","add","replace","document","getElementById","jQuery","append","text","self","settings","window","parent","get","excluded","subValue","defaults","prefix","units","suffix","value_pattern","pattern_replace","exclude","length","exclusion","RegExp","placeholder","isUndefined","backgroundImageValue","url","mediaQuery","JSON","parse","e","js_callback","customProperty","isObject","media_query","isEmpty","html","isArray","attr","toggleClass","class","hasClass","addClass","removeClass","addEventListener"],"sourceRoot":""}